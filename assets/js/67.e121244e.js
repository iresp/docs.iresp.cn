(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{347:function(t,a,s){"use strict";s.r(a);var e=s(14),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"默认值-填值规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#默认值-填值规则"}},[t._v("#")]),t._v(" 默认值(填值规则)")]),t._v(" "),a("p",[t._v("通过填值规则设置默认值")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("此功能只支持在线使用，不支持代码生成。")])]),t._v(" "),a("h2",{attrs:{id:"如何使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何使用"}},[t._v("#")]),t._v(" 如何使用")]),t._v(" "),a("blockquote",[a("p",[t._v("Online填值规则配置，需要通过${}包含着填值规则编码，例如：${order_num_rule}")]),t._v(" "),a("p",[t._v("下面有的截图是老图，请以${}用法为准。")])]),t._v(" "),a("p",[t._v("在 "),a("code",[t._v("页面属性")]),t._v(" 中，倒数第二列就是"),a("code",[t._v("填值规则")]),t._v("的输入框。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/dev/online/form/comp/screenshot_1652879229703-4352d86629f4ba963e200fae82a99474.png",alt:"screenshot_1652879229703-4352d86629f4ba963e200fae82a99474.png"}})]),t._v(" "),a("p",[t._v("输入框里填写的是填值规则的"),a("code",[t._v("规则Code")])]),t._v(" "),a("p",[t._v("如果你不希望生成的数据被修改，可以勾选"),a("code",[t._v("是否只读")])]),t._v(" "),a("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAACwCAMAAAB+bB1tAAAAdVBMVEUAAABZWVnExMTm5ub19fXo6OjZ2dn////q+P8YkP+urq6cnJz5+fl4eHjz8/OHh4cjlf/b29yLx/9vuv+SkpLj7PDa2tqn1P/v7++lpaXF4//l5eXg4+X39/fm8fdfsv/g4ODMzMyl1P+Xzf/S0tK1tbW9vb2X94BHAAABvElEQVRo3u2Y6XaCMBCFTWIzNSFBRHFp3bq9/yM2AYFgC2Ta0lNp7h89x/mYTCZzASeTXxAg9PcBpkghxQAEqSWjFmCp889oy6pLcO8MRjom6qxoB9DIwJRiesmA1ivqysCUDbMAAFfsR3bJrLiWskspRbv6EMlyX6i4fBHtgPkpkuU2eQB21zEZmNoq4QB9NbDYORC2aI8aRjAP/xKg7tTzor+8HrdPgPIw2KhI0moChQ8AWmpUBnCsKdb9ACeEm6nNC2HbyCeDsINB5ZvoABreKLip27mKVwYqI0q7Gme9rzAvC1DStM6PACUvBjjlplfUAJzw1gyFOxb7aaLEWWrjryfZagKOtRtD0HH8emmAaOtDmLgAfA+4QygH7hEKQADGCxywwCMWyLAAHy2wSrijZNULJJupo03SC/BpQzwAAfgqgD586ON9WzOdDW6Vh3DLCsDYAfTDengHCkAArPZY4AELZFiAjxZYz2eO5uteoBFviF5gdqUhgSMSSOGIAlKAhS+QOvE+wDOkdbwPsAB4quK9lmSIKt6v6B3skH3YDdlp9OFDH+/bmulscKvch1tWAMI/61cP6wPrHfma2XHYc4+1AAAAAElFTkSuQmCC"}}),t._v(" "),a("h2",{attrs:{id:"如何定义填值规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何定义填值规则"}},[t._v("#")]),t._v(" 如何定义填值规则")]),t._v(" "),a("p",[t._v("在 "),a("code",[t._v("低代码开发")]),t._v("--\x3e"),a("code",[t._v("系统编码规则")]),t._v(" 菜单中进行添加，详细添加方法请参考 填值规则（编码生成） 文档")]),t._v(" "),a("h2",{attrs:{id:"如何在某个值变化的时候更新填值规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何在某个值变化的时候更新填值规则"}},[t._v("#")]),t._v(" 如何在某个值变化的时候更新填值规则")]),t._v(" "),a("h3",{attrs:{id:"方法一-js增强实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法一-js增强实现"}},[t._v("#")]),t._v(" 方法一：JS增强实现")]),t._v(" "),a("p",[t._v("JS增强参考 online基础篇-JS增强(表单渲染)")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/dev/online/form/comp/screenshot_1652879260757-aadac1e76d94e19a9ced9f0cc9691c03.png",alt:"screenshot_1652879260757-aadac1e76d94e19a9ced9f0cc9691c03.png"}})]),t._v(" "),a("p",[t._v("如上图，我的"),a("code",[t._v("order_rule")]),t._v("字段设置了填值规则，我想实现当"),a("code",[t._v("name")]),t._v("字段变化时重新生成填值规则，JS增强该如何编写呢？")]),t._v(" "),a("h4",{attrs:{id:"第一步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一步"}},[t._v("#")]),t._v(" 第一步")]),t._v(" "),a("p",[t._v("在Online表单开发页面，选中你要修改JS增强的那一条数据，并点击上方的JS增强按钮")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/dev/online/form/comp/screenshot_1652879279060-4f873d971abf28fee0e211dbae3363f2.png",alt:"screenshot_1652879279060-4f873d971abf28fee0e211dbae3363f2.png"}})]),t._v(" "),a("h4",{attrs:{id:"第二步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二步"}},[t._v("#")]),t._v(" 第二步")]),t._v(" "),a("h5",{attrs:{id:"主表js增强写法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主表js增强写法"}},[t._v("#")]),t._v(" 主表JS增强写法")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/dev/online/form/comp/screenshot_1652879289901-eb535bbd8069cf6e7cbeba539197a0cd.png",alt:"screenshot_1652879289901-eb535bbd8069cf6e7cbeba539197a0cd.png"}})]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onlChange")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            that"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("executeMainFillRule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h5",{attrs:{id:"子表js增强写法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#子表js增强写法"}},[t._v("#")]),t._v(" 子表JS增强写法")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("子表的JS增强也写在主表里！")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/dev/online/form/comp/screenshot_1652879301717-1e831972a18858da88432e47160ab850.png",alt:"screenshot_1652879301717-1e831972a18858da88432e47160ab850.png"}})]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test_fill_rule_sub_onlChange")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("that"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重新触发子表的填值规则（仅当前更改的行）")]),t._v("\n      that"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("executeSubFillRule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test_fill_rule_sub'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"方法二-参数监听值变化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法二-参数监听值变化"}},[t._v("#")]),t._v(" 方法二：参数监听值变化")]),t._v(" "),a("p",[t._v("你可以监听某个字段的值变化后，重新请求当前字段的填值规则并且重新生成，用于动态根据其他字段的值生成内容，具体操作如下：")]),t._v(" "),a("p",[t._v("在填值规则编码的后面加上"),a("code",[t._v("?")]),t._v("代表传参，当传入"),a("code",[t._v("onl_watch")]),t._v("时代表指定要监听的字段名称，多个用英文逗号分割。")]),t._v(" "),a("p",[t._v("如下图所示，监听了"),a("code",[t._v("name")]),t._v("和"),a("code",[t._v("age")]),t._v("的值变化，当用户在新增、编辑表单时，如果更改了"),a("code",[t._v("name")]),t._v("或"),a("code",[t._v("age")]),t._v("的值，就会重新触发当前字段的填值规则，重新生成数据。")]),t._v(" "),a("blockquote",[a("p",[t._v("参考："),a("code",[t._v("${填值规则编码?onl_watch=字段1,字段2}")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/dev/online/form/comp/image_1727668747769-0150d38a2a72fc604937071a9e5eece0.png",alt:"image_1727668747769-0150d38a2a72fc604937071a9e5eece0.png"}})]),t._v(" "),a("blockquote",[a("p",[t._v("当然，除了"),a("code",[t._v("onl_watch")]),t._v("之外，你还可以写其他任意参数，会一并传到后台，前提是在编码规则中提前定义好参数，才会解析并覆盖。")])])])}),[],!1,null,null,null);a.default=n.exports}}]);