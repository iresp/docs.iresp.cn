(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{326:function(t,e,a){"use strict";a.r(e);var v=a(14),_=Object(v.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"js-增强-表单"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#js-增强-表单"}},[t._v("#")]),t._v(" JS 增强（表单）")]),t._v(" "),e("h2",{attrs:{id:"属性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#属性"}},[t._v("#")]),t._v(" 属性")]),t._v(" "),e("p",[t._v("此处的属性获取的大多都是ref对象，需要手动调用"),e("code",[t._v(".value")]),t._v("进行获取/修改值，如"),e("code",[t._v("this.loading")]),t._v("本身返回的是一个ref对象，\n"),e("code",[t._v("this.loading.value")]),t._v("才是一个布尔值")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("语法")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("this.loading")]),t._v(" "),e("td",[t._v("是否加载中，返回的是一个ref对象")])]),t._v(" "),e("tr",[e("td",[t._v("this.isUpdate")]),t._v(" "),e("td",[t._v("是否是编辑页面，返回的是一个ref对象")])]),t._v(" "),e("tr",[e("td",[t._v("this.onlineFormRef")]),t._v(" "),e("td",[t._v("主表/单表表单的ref对象")])]),t._v(" "),e("tr",[e("td",[t._v("this.refMap")]),t._v(" "),e("td",[t._v("子表表单/子表table的ref对象map，key为子表表名")])]),t._v(" "),e("tr",[e("td",[t._v("this.subActiveKey")]),t._v(" "),e("td",[t._v("子表的激活的tab索引值对应的字符串，从‘0’开始，返回的是一个ref对象")])]),t._v(" "),e("tr",[e("td",[t._v("this.sh")]),t._v(" "),e("td",[t._v("单表/主表字段的显示隐藏状态")])]),t._v(" "),e("tr",[e("td",[t._v("this.submitFlowFlag")]),t._v(" "),e("td",[t._v("是否提交表单后自动提交流程，返回一个ref对象")])]),t._v(" "),e("tr",[e("td",[t._v("this.subFormHeight")]),t._v(" "),e("td",[t._v("一对一子表表单的高度，不需要设置，返回一个ref对象")])]),t._v(" "),e("tr",[e("td",[t._v("this.subTableHeight")]),t._v(" "),e("td",[t._v("一对多子表table的高度，不需要设置，返回一个ref对象")])]),t._v(" "),e("tr",[e("td",[t._v("this.tableName")]),t._v(" "),e("td",[t._v("当前表名，返回的是一个ref对象")])]),t._v(" "),e("tr",[e("td",[t._v("this.$nextTick")]),t._v(" "),e("td",[t._v("调用的是vue3的nextTick")])])])]),t._v(" "),e("h2",{attrs:{id:"方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#方法"}},[t._v("#")]),t._v(" 方法")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("语法")]),t._v(" "),e("th",[t._v("参数说明")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("this.addSubRows(tableName, rows)")]),t._v(" "),e("td",[t._v("tableName:表名；rows：数组数据，如"),e("code",[t._v("[{name:'',age:''},{name:'',age:''}]")])]),t._v(" "),e("td",[t._v("往一对多子表table里添加数据")])]),t._v(" "),e("tr",[e("td",[t._v("this.changeOptions(field, options)")]),t._v(" "),e("td",[t._v("field:字段名；options:下拉项数组，如"),e("code",[t._v("[{value:'1',label:'男'},{value:'2',label:'女'}]")])]),t._v(" "),e("td",[t._v("改变单表/主笔 下拉控件的下拉选项")])]),t._v(" "),e("tr",[e("td",[t._v("this.clearSubRows(tableName)")]),t._v(" "),e("td",[t._v("tableName：表名")]),t._v(" "),e("td",[t._v("清空一对多子表table的数据")])]),t._v(" "),e("tr",[e("td",[t._v("this.clearThenAddRows(tableName, rows)")]),t._v(" "),e("td",[t._v("tableName：表名；rows数据数组，如"),e("code",[t._v("[{name:'',age:''},{name:'',age:''}]")])]),t._v(" "),e("td",[t._v("先清空一对多子表table的数据，再往里添加数据")])]),t._v(" "),e("tr",[e("td",[t._v("this.getFieldsValue()")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("获取主表/单表 所有字段的值")])]),t._v(" "),e("tr",[e("td",[t._v("this.getSubTableInstance(tableName)")]),t._v(" "),e("td",[t._v("tableName:子表的表名")]),t._v(" "),e("td",[t._v("获取子表的实例对象，这个对象可以调用子表table的方法")])]),t._v(" "),e("tr",[e("td",[t._v("this.setFieldsValue(row)")]),t._v(" "),e("td",[t._v("row:表单数据对象，如：{name:'',age:''}")]),t._v(" "),e("td",[t._v("设置主表/单表 字段的值")])]),t._v(" "),e("tr",[e("td",[t._v("this.triggleChangeValues(values,id,target)")]),t._v(" "),e("td",[t._v("values:数据对象，如{name:'',age:''}；id:一对多子表所在行的数据id；target：一对多子表table的对象")]),t._v(" "),e("td",[t._v("改变单表/主表/子表 字段的值，一般用于change事件，其中id，target需要通过change事件的内置参数获取，如果不传id，target的值，则改变的是主表的字段")])]),t._v(" "),e("tr",[e("td",[t._v("this.triggleChangeValue(field, value)")]),t._v(" "),e("td",[t._v("field:表单字段名；value:值")]),t._v(" "),e("td",[t._v("设置单表/主表 字段的值")])]),t._v(" "),e("tr",[e("td",[t._v("this.onlineFormValueChange(field, value, otherValus)")]),t._v(" "),e("td",[t._v("field:字段名； value:字段值；otherValus: 其他关联的表单字段值")]),t._v(" "),e("td",[t._v("定义后，当表单值改变的时候会触发该方法（因js增强hook方式不支持原来的onlChange，所以定义此方法）")])]),t._v(" "),e("tr",[e("td",[t._v("changeSubFormbleOptions(tableName，field，options)")]),t._v(" "),e("td",[t._v("tableName:子表名； field:字段名；options:下拉项数组，如"),e("code",[t._v("[{value:'1',label:'男'},{value:'2',label:'女'}]")])]),t._v(" "),e("td",[t._v("改变一对一子表下拉框options")])]),t._v(" "),e("tr",[e("td",[t._v("changeSubTableOptions(tableName，field，options)")]),t._v(" "),e("td",[t._v("tableName:子表名； field:字段名；options:下拉项数组，如"),e("code",[t._v("[{value:'1',label:'男'},{value:'2',label:'女'}]")])]),t._v(" "),e("td",[t._v("改变一对多子表下拉框options")])]),t._v(" "),e("tr",[e("td",[t._v("this.submitFormAndFlow()")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("表单提交且发起流程")])])])]),t._v(" "),e("h2",{attrs:{id:"事件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[t._v("#")]),t._v(" 事件")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("语法")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("beforeSubmit")]),t._v(" "),e("td",[t._v("表单提交前事件")])]),t._v(" "),e("tr",[e("td",[t._v("loaded")]),t._v(" "),e("td",[t._v("表单渲染完成后事件")])]),t._v(" "),e("tr",[e("td",[t._v("onlChange")]),t._v(" "),e("td",[t._v("表单值改变事件")])]),t._v(" "),e("tr",[e("td",[t._v("子表名_onlChange")]),t._v(" "),e("td",[t._v("子表控制值改变事件")])])])]),t._v(" "),e("h2",{attrs:{id:"禁用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#禁用"}},[t._v("#")]),t._v(" 禁用")]),t._v(" "),e("p",[t._v("动态禁用某个字段")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateSchema")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("field")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("componentProps")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("disabled")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);e.default=_.exports}}]);