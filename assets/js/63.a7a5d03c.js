(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{343:function(t,_,s){"use strict";s.r(_);var v=s(14),e=Object(v.a)({},(function(){var t=this,_=t._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"sql增强"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#sql增强"}},[t._v("#")]),t._v(" SQL增强")]),t._v(" "),_("h3",{attrs:{id:"功能简述"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#功能简述"}},[t._v("#")]),t._v(" 功能简述")]),t._v(" "),_("p",[t._v("通过增强SQL，可以关联修改业务数据")]),t._v(" "),_("blockquote",[_("p",[t._v("注意：")]),t._v(" "),_("p",[t._v("1.这里选择的按钮一定要是按钮类型是action的,因为js类型的是走的js增强，而按钮样式未作限制")]),t._v(" "),_("p",[t._v("2.这边我将按钮点击后触发的sql定义为,修改demo表的性别字段为1")]),t._v(" "),_("p",[t._v("3.#{id}是一种规范,id可以是任何当前表中的字段名")]),t._v(" "),_("p",[t._v("4.如果数据库定义的字段是数值类型的，这边是不需要加单引号('')的")]),t._v(" "),_("p",[t._v("5.sqlServer数据库插入修改sql遇到中文乱码时，需在sql前加N")]),t._v(" "),_("p",[t._v("例1：insert into test_one2 (id,username,sex) values('1',N'大王巡山','1')")]),t._v(" "),_("p",[t._v("例2：update test_one2 set name=N'张三' where id=N'#{id}'")])]),t._v(" "),_("h2",{attrs:{id:"sql增强中系统变量"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#sql增强中系统变量"}},[t._v("#")]),t._v(" SQL增强中系统变量")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("变量名称")]),t._v(" "),_("th",[t._v("变量释义")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("#{sys_user_code}")]),t._v(" "),_("td",[t._v("登陆用户的账号名")])]),t._v(" "),_("tr",[_("td",[t._v("#{sys_org_code}")]),t._v(" "),_("td",[t._v("登陆用户所属机构编码")])]),t._v(" "),_("tr",[_("td",[t._v("#{sys_date}")]),t._v(" "),_("td",[t._v('系统日期"yyyy-MM-dd"')])]),t._v(" "),_("tr",[_("td",[t._v("#{sys_time}")]),t._v(" "),_("td",[t._v('系统时间"yyyy-MM-dd HH:mm"')])]),t._v(" "),_("tr",[_("td",[t._v("#{sys_user_name}")]),t._v(" "),_("td",[t._v("登录用户真实姓名")])])])]),t._v(" "),_("p",[t._v("示例SQL："),_("code",[t._v("update demo set content= '#{sys_user_name}' where id = '#{id}'")]),t._v(" (设置个人简介的内容为当前用户真实姓名)")]),t._v(" "),_("h3",{attrs:{id:"注意"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[t._v("#")]),t._v(" 注意：")]),t._v(" "),_("p",[t._v("上述增强sql中取表单的值（如"),_("code",[t._v("#{id}")]),t._v("）和取系统变量的值(如"),_("code",[t._v("#{sys_user_code}")]),t._v(")用的都是#,如果两者的参数名相同，以表单的值为准，若表单中未取到,会从系统变量中取值")])])}),[],!1,null,null,null);_.default=e.exports}}]);